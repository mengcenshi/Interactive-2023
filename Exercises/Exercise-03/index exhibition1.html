<!DOCTYPE html>
<html>
	<head>
		<title>Emoji Generator</title>
		<style>
			body {
				background-color: #f8f8f8;
				font-family: sans-serif;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				height: 100vh;
			}

			h1 {
				color: #444444;
				margin-top: 0;
			}

			#emojis {
				display: flex;
				align-items: center;
				justify-content: space-around;
				width: 80%;
				margin-bottom: 20px;
			}

			.emoji {
				font-size: 48px;
				cursor: move;
			}

			#box {
				display: flex;
				align-items: center;
				justify-content: center;
				width: 300px;
				height: 300px;
				background-color: white;
				border: 2px solid #444444;
				border-radius: 10px;
				overflow: hidden;
				position: relative;
			}

			#box .stacked-emojis {
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				display: flex;
				flex-wrap: wrap;
				align-items: center;
				justify-content: center;
				width: 100%;
				height: 100%;
				padding: 10px;
				box-sizing: border-box;
			}

			#box .stacked-emojis .emoji {
				margin: 5px;
			}

			#generate-btn {
				background-color: #444444;
				color: white;
				padding: 10px 20px;
				border: none;
				border-radius: 5px;
				font-size: 24px;
				cursor: pointer;
				outline: none;
				transition: background-color 0.2s;
			}

			#generate-btn:hover {
				background-color: #555555;
			}
		</style>
	</head>
	<body>
		<h1>Emoji Generator</h1>
		<div id="emojis">
			<div class="emoji" draggable="true">ðŸ˜œ</div>
			<div class="emoji" draggable="true">ðŸ§ </div>
			<div class="emoji" draggable="true">&#x1F602;</div>
			<div class="emoji" draggable="true">&#x1F603;</div>
			<div class="emoji" draggable="true">&#x1F604;</div>
			<div class="emoji" draggable="true">&#x1F605;</div>
			<div class="emoji" draggable="true">&#x1F606;</div>
			<div class="emoji" draggable="true">&#x1F607;</div>
			<div class="emoji" draggable="true">ðŸŒˆ</div>
		</div>
		<div id="box">
			<div class="stacked-emojis"></div>
		</div>
		<div id="image-container"></div>
		<button id="generate-btn">Generate</button>

		<script>
						// Get the box element
			const box = document.getElementById('box');

			// Add event listeners to the emojis
			const emojis = document.querySelectorAll('.emoji');
			emojis.forEach(emoji => {
				emoji.addEventListener('dragstart', dragStart);
				emoji.addEventListener('dragend', dragEnd);
			});

			// Add event listeners to the box
			box.addEventListener('dragover', dragOver);
			box.addEventListener('dragenter', dragEnter);
			box.addEventListener('dragleave', dragLeave);
			box.addEventListener('drop', drop);

			// Drag functions
			function dragStart() {
				this.classList.add('dragging');
			}

			function dragEnd() {
				this.classList.remove('dragging');
			}

			function dragOver(e) {
				e.preventDefault();
			}

			function dragEnter(e) {
				e.preventDefault();
				this.classList.add('hovered');
			}

			function dragLeave() {
				this.classList.remove('hovered');
			}

			function drop() {
				this.classList.remove('hovered');
				const emoji = document.querySelector('.dragging');
				if (emoji) {
					emoji.classList.remove('dragging');
					const stackedEmojis = document.querySelector('#box .stacked-emojis');
					stackedEmojis.appendChild(emoji);
				}
			}

			// Generate button event listener
			const generateBtn = document.getElementById('generate-btn');
			generateBtn.addEventListener('click', generateNewEmoji);

			function generateNewEmoji() {
			  // Get the container element where the new image will be displayed
			  const imageContainer = document.getElementById('image-container');
			  
			  // Get the stacked-emojis container element and its child emojis
			  const stackedEmojis = document.querySelector('#box .stacked-emojis');
			  const emojis = stackedEmojis.querySelectorAll('.emoji');

			  // Generate a new emoji based on the existing emoji
			  let newEmoji = '';
			  if (emojis.length > 1) {
			    // Pick two random emoji from the container
			    const emoji1 = emojis[Math.floor(Math.random() * emojis.length)];
			    const emoji2 = emojis[Math.floor(Math.random() * emojis.length)];

			    // Generate a new emoji by concatenating the two emoji's alt text
			    newEmoji = emoji1.textContent + emoji2.textContent;
			  } else if (emojis.length === 1) {
			    // If there's only one emoji, just use its alt text as the new emoji
			    newEmoji = emojis[0].textContent;
			  } else {
			    // If there are no emoji, display an error message
			    newEmoji = 'Error: Please add at least one emoji to the box!';
			  }

			  // Create a new image element and set its source to a new image URL that represents the new combination of emoji
			  const newImage = document.createElement('img');
			  newImage.src = `https://www.gstatic.com/android/keyboard/emojikitchen/20201001/u1f61c/u1f61c_u1f308.png`;
			  // newImage.src = `https://www.gstatic.com/android/keyboard/emojikitchen/20201001/u1f32d/u1f32d_u1f490.png`;


			  // Remove any existing images in the image container
			  imageContainer.innerHTML = '';

			  // Append the new image element to the image container
			  imageContainer.appendChild(newImage);
			}




		</script>

 	 </body>
</html>

